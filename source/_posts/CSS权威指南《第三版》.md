---
title: 【教程】CSS权威指南《第三版》
date: 2016-08-12
tags: [教程,CSS]
categories: CSS
---
# 六、基本视觉格式化
## 1. 基本框
元素框：内容区、内边距、边框、外边距；  
内容的背景会应用到内边框，外边框通常是透明的，从中可以看到父元素的背景；内边距不能是负值，外边距可以；边框没有设定颜色，那么边框将取元素内容的前景色，边框与内容和内边距有相同的颜色，边框的宽度绝对不能为负；  
包含块：包含块有最近的块级祖先框、表单元格或者行内块祖先框的内容边界构成；
## 2.块级元素
### 2.1 水平格式化：
①width影响的是内容区的宽度；  
②设定padding、border、margin后会隐式的增加width的值；  
③正常流中块级元素框的水平部分综合就是等于父元素的width；  
#### 2.1.1水平格式化的“7大属性”：
①margin-left,border-left,padding-left,width,padding-right,border-right,margin-right,这些属性和块级框的水平布局有关，这七个属性的值加在一起必须是元素包含块的宽度；  
②只有3个属性可以设置为auto：width，margin-left，margin-right，其余的必须设置为特定的值，或者默认宽度为0；  
③width不许设置为auto或者某种类型的非负值；
#### 2.1.2   使用auto
①从每种程度上讲，可以使用auto弥补实际值与所需总和的差距；（如七个属性和为400px，无内边距或边框，右外边距和width都是100px，做外边距为auto，那么做外编剧的宽度将是200px）；   
②如果所有的三个属性都设置为非auto的每个值，此时总会把margin-right强制为auto（如三个值都是100px，七个属性和为400px，那么margin-right会自动变为auto，此时margin-right的值为200px）；   
③如果两个外边距都是显式的设置，而width设置为auto，width值将自动填充所需要的值，从而达到需要的总宽度（即父元素的内容宽度）；
#### 2.1.3 不只一个auto
①如果两个外边距都设置为auto，那么元素在其父元素中居中；   
②将某个外边距以及width设置为auto，设置为auto的外边距会减为0，然后width会设置为所需的值，使得元素完全填充其包含块；  
③如果3个属性都设置为auto，那么两个外边距都会设置为0，而width会尽可能的宽（width默认为auto），这种结果与默认情况是相同的，即没有外边距或者width显式声明任何值；
#### 2.1.4 负外边距
外边距可以为负，如果设置了负外边框，那么子元素的边框可能会大于父元素的宽；如果子元素的整体的width大于父元素的宽度，那么子元素的margin-right会默认为auto，此时auto的值为负数；
**内边距、边框和内容宽度（及高度）绝对不能为负，只有外边距能小于0；**
#### 2.1.5 百分数
如果width、内边距和外边距设置为百分数值，会应用相同的基本规则；**基本原则是：只使用百分数将无法创建完全灵活的元素布局（即所有的属性都可设置），，除非你不行使用边框；**
#### 2.1.6 替换元素
非替换元素的所有规则适用于替换块元素，只有一个例外：如果width为auto，元素的宽度则是内容的固有宽度；高宽成比例缩放，除非height自己也显式的设置为一个特定值。
### 2.2 垂直格式化 ###
一个元素的more高度由其内容决定，还受内容宽度的影响，宽度越小，高度越高；   
如果块级元素的指定高度大于显示内容所需的高度，多余的高度会产生一个视觉效果----好像有额外的内边距一样；   此时用户代理的具体行为将取决于overflow属性的值；
如果块级元素的指定高度小于显示内容所需的高度，浏览器一般会向元素增加一个滚动条以便查看所有内容；   
#### 2.2.1 垂直属性
①垂直格式化也有七个相关的属性：margin-top、margin-bottom、padding-top、pading-bottom、border-top、border-bottom和height；这7分属性的值必须等于元素包含块的height，这往往是块级元素父元素的高度的height值（因为块级元素的父元素几乎都会计元素）；   
②7个属性值3个可以设置为auto：height、margin-top、margin-bottom；其他的必须设置为特定的值，或者默认为0（没声明border-style）,如果已经设置了border-style，边框的宽度会设置为值medium（这个值的定义并不明确）；   
③如果正常六种的一个块元素的margin-top和margin-bottom设置为auto，它会自动计算为0，但是这样就不能很容易的将正常流元素在其包含块中垂直居中；   
④height必须设置为auto或者是某种类型的非负值；
#### 2.2.2 百分比高度
如果没有显式声明包含块的height，百分比会重置为auto；
#### 2.2.3 auto高度
最简单的情况下，如果块级正常流元素height:auto，显示其高度将恰好足以包含其内联内容（包括文本）的行高；
如果块级正常流元素height:auto，且只有块级子元素，默认高度将是最高块级子元素的外边框到最低块级子元素外边框边界之间的距离，此时子元素的外边距会“超出”包含这些子元素的元素；  
#### 2.2.4 合并垂直外边距
垂直相邻外边距合并，只是用于外边距，而且是同级元素的合并（不知道此话是否正确）
#### 2.2.5 外负边距
如果垂直外边距都设置为负值，浏览器会 取两个外边距绝对值的最大值；如果一个正外边距与一个负外边距合并，会从正外边距减去这个负外边距的绝对值；
### 2.3 列表项 ###
列表项前面通常有一个标志，这个标志不是列表项内容区的一部分；list-style-position可以决定标志放在列表项的内容之外还是列表项的内容开始处；
## 3. 行内元素 ##
### 3.1 行布局 ###
单行行内元素和多行行内元素的比较；   
text-align设置不同的值的时候显示的不同；
### 3.2 基本术语和概念 ###
- 匿名文本：指所有未包含在行内元素中的字符串；空格也是匿名文本的一部分；
- em框：在字体中定义，也称为字符框；
- 内容区：在非替换元素中国，内容区可能有两种，一种是元素中各字符的em框串在一起构成的 框，另一种是由元素中字符字形描述的框；在替换元素中，内容区就是元素的固有高度再加上可能有的外边框。边距和内边距；
- 行间距：是font-size值和line-height值只差，只能用于非替换元素；
- 行内框：通过想内容区增加行间距来描述；对于非替换元素，元素行内框的高度等于line-height的值；对于替换元素，元素行内框的高度等于内容区的高度；
-----
![](http://i.imgur.com/SKGboDx.png)
### 3.3 行内格式化 ###
line-height实际上只影响行内元素和其他行内内容，而不影响块级元素（至少不会直接影响）；为块级元素设置line-height值，但是这个值只是应用到块级元素的内联内容时才会有视觉影响；   
### 3.4 行内非替换元素 ###
- 建立框：行内框是有font-size和line-height的差决定的；
- 垂直对齐：如果改变行内框的垂直对齐，会应用同样的高度确定原则；
- 管理line-height：避免内容重叠----①对font-size有改变的元素结合使用em单位；②增加段落的line-height；
- 缩放行高：设置line-height的最好办法是使用一个原始数字值（即不带单位的值），这个数会成为缩放因子，该因子是一个继承值而非计算值；如果设置line-height的值1.0，那么行高恰好能包含行内容，而没有多余的空间；
- 增加框属性：行内元素的边界是由font-size控制；内边距、外边距和边框不改变行高，但是会影响文本的显示样式，这样可能会影响行高，比如设置内边距，外边距等，这样会影响整体的行高；
### 3.5 行内替换元素 ###
一般认为行内替换元素（如图像）有固定的宽度和高度，这可能导致行框比正常要高；这不会改变行中任何元素的line-heitght值，包括替换元素本身，只会让行框的高度恰好包含替换元素（以及所有框属性）；
- 增加框属性：为行内替换元素增加内边距、边框和外边据会增大其行内框，负外边距会是替换元素行内框小于正常大小，可能大致行内替换元素挤入其他行（这个是唯一办法）；
- 替换元素和基线：默认行内替换元素位于基线上；替换元素没有自己的基线，实际上下外边距边界与基线对齐；
## 4. 改变元素显示 ##
使用display元素改变；
- 5.1 改变角色：通过使用diaplay的值block和line改变为块元素或者行内元素的角色，但是元素本身不会改变，只是元素的显示方式不同；
- 5.2 行内块元素：line-block是一个混合产物，它会作为替换元素放在行中；它的底端默认地位于文本框的基线上，而且内部没有分割符；   
在行内块元素内部，会像块级元素一样设置内容的格式，它有属性width和height；
- 5.3 rin-in元素：rin-in可以使某些块级元素成为下一个元素（一个块级行内框）的行内部分；rin-in框是从文档的父元素中继承属性，而不是说它们放在那个元素中就从哪个元素继承属性；**关注一下支持性！！！**
- 5.4 计算值：如果元素是浮动元素或定位元素，display的计算值可能改变；
# 七、内边距、边框和外边距 #
## 1. 基本元素框 ##
所有文档元素都生成一个矩形框，这称为元素框，它描述了一个元素在文档布局中所占的空间大小；
- 宽度和高度：一个元素width被定义为从左内边距到右内边距的距离，height被定义为从上内边距到下内边距的距离；它们不能应用到行内非替换元素； **宽高如何显示的问题在CSS3中定义了：[CSS3 box-sizing 属性](http://www.w3school.com.cn/cssref/pr_box-sizing.asp)**  
- 外边距和内边距：如果元素有背景，背景会延伸到内边距中，但不会延伸到外边距；
## 2. 外边距 ##
最简单的是设置margin，marging默认值为0；实际中，浏览器对外边距提供了预定的样式，所有最好是进行重置样式；
- 长度值和外边距：（margin: top right bottom left;）   
- 百分数和外边距：**元素的外边距设置为百分数值，百分数值相对于父元素的width计算的（上下边距也是如此）**；
- 值复制：(margin: top+bottom right+left) (margin:top+right+bottom+left) (margin:top left+right bottom)
- 单边外边距属性：margin-left、margin-right、margin-top、margin-bottom,可以同时使用多个单边属性 ；
- 外负边距和合并外边距：设置外负边距会使内容超过父元素的width；正常流中垂直相邻外边距会合并；
- 外边距和行内元素：①上下外边距应用到行内非替换元素无效；②左右外边距应用到行内非替换元素有效，并且左外边距应用到此行内元素的开始处，右外边距应用到此行内元素的末尾；③如果对行内非替换元素应用负外边距，元素的上下外边距不受影响，行高不受影响，但是左右两端可能与其他内容重叠；④为行内替换元素设置的外边距影响行高，可能使行高增加或减少，这取决于上下外边距的值，行内替换元素左右外边距与非替换元素的左右外边距的作用一样；
## 3. 边框 ##
边框宽度默认为medium，此值无明确定义，通常2px；边框默认样式为none；默认的边框颜色是元素本身的前景色，如果没有声明边框颜色，他将与元素的文本颜色相同，如果一个元素无任何背景，那么元素的边框颜色就是父元素的文本颜色；
- 边框和背景：元素的背景是内容、内边距和边框区的背景；
- 有样式的边框：border-style定义了10个不同的非inherit样式，包括默认值none；样式值hidden等价于none，不过应用于表时除外，对于表，hidden用于解决边框冲突；double属性值不确定显示样式；①多种样式：(border-style:top right bottom left),可以用多个值设置不同的边框；②单边样式：border-top-style、border-right-style、border-bottom-style、border-left-style；单边样式和多种样式结合使用时，一般把border放在前面，单边颜色放在后面；
- 边框宽度：可以使用border-width、border-top-width、border-left-width、border-bottom-width、border-right-width，可以设置长度值，或者使用三个关键字（宽度比较：thin<medium（默认值）<thick，具体的宽没有定义，用户代理可以自定义）之一；只有当有边框样式时才有边框宽度，因为边框样式默认为none，所有边框样式需要显式定义，当边框样式为none时，边框宽度为0；
- 边框颜色：border-color、border-top-color、border-right-color、border-bottom-color、border-left-color；边框颜色值transparent，用于创建有宽度但不可见的边框（透明边框）；
-简写边框属性：border-bottom、border-top、border-left、border-right，在设置时，具体值的顺序并不重要，还可以省略一些值（不能省略边框样式，如果省略，默认为none），使用其默认值，且每个值只有一个；
- 全局边框：border设置，应用到所有4个边，如果希望一个元素有不同的边框，则需要使用另外的某个边框属性（可以利用层叠）；
- 边框和行内元素：对于行内非替换元素，上下边框增加不会影响行高，但是边框会显示出来，左右边框会正常显示；
## 4.内边框 ##
使用padding定义；默认元素没有内边距；内边框不合并；
- 百分数值和内边距：内边距可以设置百分数值，百分数值相对于其父元素的width计算；
- 单边内边距：padding-left、padding-right、padding-top、padding-bottom；  
- 内边距和行内元素：左右内边距可见，行高不变，上下内边距也会向元素上面和下面延伸；
- 内边距和替换元素：不论替换元素是块级元素还是行内元素，内边距都会围绕其内容，背景色将填入该内边距；可以向图片应用内边距；
# 八、颜色和背景 #
## 1. 前景色 ##
设置元素的前景色，最简单的办法是利用属性color；   
通常最好同时设置前景和背景色；   
- 替换属性：最基本的用法，替换body属性text、link、alink和vlink
- 影响边框：如果未设置边框颜色，前景色会应用到边框；
- 影响表单元素：可以为表单元素设置color值；
- 继承颜色：color是可以继承的；
## 2. 背景 ##
元素的背景区包括内容框和内边距，边框画在背景之上；CSS可以使用纯景作为背景，也可以使用图像做背景；**所有的背景属性都不能继承；**
- 背景色：background-color，可以是合法颜色，也可以是transparent（默认值）；不能继承；
- 背景图像：background-image，默认值是none，可以指定一个url值；允许向任何元素应用背景图像，可以是块级元素也可以是行内元素；不能继承；设置背景图像的同时最好再指定一个背景色；
- 有方向的重复：background-repeat，值repeat-x和repeat-y分别导致图像只是在水平或者垂直方向上重复，no-repeat则不允许在任何方向上平铺；默认的，背景图像将会从一个元素的左上角开始；
- 背景定位：①background-position，默认值为0% 0%，可以用关键字top、bottom、left、right、center（通常会成对出现，一个对应水平方向，一个对应垂直方向，如果只出现了一个关键字，则认为另一个关键字是center），②可以使用长度值（以图像的左上角为偏移点），③也可以使用百分数值（如果用百分数值设置位置，水平值总是先出现，如果只有一个百分数值，这额值将作为水平值，垂直值假设为50%；）；④根据background-position，将相对于元素的内边距边界放置原图像；⑤允许关键字与其他值混用；⑥如果使用长度值或者百分数值，可以使用负值将原图像拉出元素的背景区；
- 有方向的重复（深入）：根据background-position的值的不同，平铺的起始位置也是不同的；
- 关联：background-attachment，声明原图像相对于可视区是固定（fixed）的；默认值scroll，会导致背景随其余文档滚动；
- 汇总：background，可以从各个其他背景属性取一个值，而且可以采用任何顺序；实际上对background中值的顺序有一个小小的限制----如果background-position有两个值，它们必须一起出现，而且如果这两个值是长度值或者百分数值，则必须按水平值在前垂直值在后的顺序；如果省略了某些值，就会自动填入相应属性的默认值；background没有必不可少的值，只要至少出现一个值就行；
# 九、浮动和定位 #
## 1. 浮动（float） ##
### 1.1 浮动元素 ###
- 会以某种方式将浮动元素从文档的正常流中删除，不过它还是会影响布局；
- 一个元素浮动时，其他内容会“环绕”该元素；
- 浮动元素周围的外边距不会合并；
- 要浮动一个非替换元素，必须为该元素声明一个width，否则，元素的宽度趋于0；
- float:none用于防止元素浮动；默认元素为这个值；
### 1.2 浮动的详细内幕 ###
- 浮动元素的包含块是其最近的块级祖先元素；
- 浮动元素会生成一个块级框，而不论这个元素本身是什么；
- 浮动元素的左（或右）外边框不能超过其包含块的左（或右）内边界；
- 浮动元素的左（或右）外边界必须是源文档中之前出现的左浮动（或右浮动）元素的右（或左）外边界，除非后出现浮动元素的顶端在先出现浮动元素的底端下面；防止元素相互覆盖；
- 左浮动元素的右外边界不会在其右浮动元素的左外边界的右边；一个右浮动元素的左外边界不会在其左边任何左浮动元素的右外边界的左边；
- 一个浮动元素的顶端不能比其父元素的内顶端更高；如果一个浮动元素在两个合并外边距之间，放置这个浮动元素就好像在两个元素之间有一个块级父元素；
- 浮动元素的顶端不能比之前所有浮动元素或块级元素的顶端更高；
- 如果源文档中一个浮动元素之前出现另一个元素，浮动元素的顶端不能比包含该元素所生成框的任何行框的顶端更高；
- 左（或右）浮动元素的左边（右边）有另一个浮动元素，前者的右外边界不能在其包含块的右（左）边界的右边（左边）；即浮动元素不能超过其包含元素的边框，除非它太宽，本身都放不下；
- 浮动元素必须尽可能高地放置；
- 左浮动元素必须向左尽可能远，右浮动元素则必须向右尽可能远；
### 1.3 实用行为 ###
- 浮动元素比父元素高时，会超出其父元素的底端；
- 浮动元素会延伸，从而包含其所有后代浮动元素；
- 负外边距可能导致浮动元素移到其父元素的外面；
- 浮动元素比其父元素更宽时，浮动元素会超出左或右内边界，究竟是超出左内边界还是右内边界，取决于元素以何种方式浮动；
### 1.4 浮动元素、内容和重叠 ###
- 行内框与一个浮动元素重叠时，其边框、背景和内容都在该浮动元素“之上”显示；
- 块框与一个浮动元素重叠时，其边框和背景在该浮动元素“之下”显示，而内容在浮动元素之上显示；
### 1.5 清除 ###
clear，值有left、right、both、none；  
清除区域：是在元素上外边距之上增加的额外间隔，不允许任何浮动元素进入这个范围之内；这意味着元素设置clear属性时，它的外边距并不改变；
## 2. 定位 ##
### 2.1 基本概念 ###
- 定位的类型：通过使用position属性，可以选择4种不同类型的定位：static（元素框正常生成）、relative(元素框偏移某个距离)、absolute（元素框从文档流完全删除，并相对于其包含块定位，包含块可能是文档中的另一个元素或者是初始包含块）、fixed（元素框的表现类似与将position设置为absolute，不过其包含块是视窗本身）；
- 包含块：①“根元素”的包含块是由用户代理建立；②对于一个非根元素，如果其position值是relative或static，包含块则由最近的块级框、表单元格或者行内块祖先框的内容边界构成；③对于一个非根元素，如果其position值是absolute，包含块设置为最近的position值不是static的祖先元素（可以是任何类型）；
- 偏移属性：三种定位机制使用了4个属性来描述定位元素各边相对于其包含块的便宜，它们是：top、left、right、bottom；
### 2.2 宽度和高度 ###
- 设置宽度和高度：可以直接使用width和height设置，也可以使用top、left、right、bottom来描述4个边的放置位置，使元素的宽度和高度由这些偏移隐含确定；如何设置了外边距、边框或内边距，此时如果为height和width显式指定了值，可能会使定位元素延伸超出其包含块，解决这个问题可以去除height和width声明，或者显式地将其设置为auto；
- 限制宽度和高度：使用min-width、min-height、max-width、max-height可以限制宽度和高度；
### 2.3 内容溢出和剪裁 ###
- 溢出：利用overflow属性控制溢出问题，属性值包含visible（元素的内容在元素框之外也可见）、scroll（元素的内容会在元素框的边界处剪裁，不过始终提供某种滚动机制使额外的内容能够看到）、hidden（元素的内容会在元素框的边界处剪裁，不过不会提供滚动接口使用户访问超出剪裁区域的内容）、auto（允许用户代理来确定采用何种行为，一般解释为“只有必要时提供滚动条”）；
- 内容剪裁：属性clip可以改变剪裁区域的形状，auto（表示元素的内容不应剪裁）、rect(top,right,bottom,left)（剪裁为一个矩形框，4个值不是边偏移，而是距元素左上角的距离；如果一个剪裁矩形涵盖元素左上角20*20px的一个正方形，可以用rect(0,20px,20px,0)表示；4个值只允许长度值和auto，auto相当于将剪裁边界设置为适当的内容边界）；
### 2.4 元素可见性 ###
使用visibility控制真个元素的可见性，visible（可见）、hidden（不可见，但是会占据位置，影响布局）、collapse(对于非表元素，collapse与hidden含义相同)；
### 2.5 绝对定位 ###




