---
title: 【笔记】核心语法之类型简介
date: 2017-07-26
tags: [笔记,教程,JavaScript]
categories: JavaScript
---
编程语言最基本的特性就是能够支持多种数据类型；   
变量的工作机制是编程语言的另一个进本特性；   
JavaScript分类方法：①原始类型和对象类型；②可以拥有方法的类型和不能拥有方法的类型；③可变类型和不可变类型；    
JavaScript的数据类型分为两类：        
原始类型：数字、字符串、布尔值、null(空)、underfined(未定义)；     
对象类型：对象、数组、函数；      
对象是属性的集合，每个属性都由“名/值对”(值可是原始值，也可是对象)构成，特殊对象--全局对象；     
特殊对象--数组，表示带编号的值得有序集合，有专用的语法，使数组有一些和普通对象不同的特有行为特性；    
特殊对象--函数，有专用语法；函数用来初始化(使用new运算符)一个新建的对象，可称为构造函数；每个构造函数定义了一类对象--由构造函数初始化的对象组成的集合；类可以看成对象类型的子类型；除数组类和函数类之外，还有日期(Date)类、正则(RegExp)类、错误(Error)类；    
JavaScript解释器有自己的内存管理机制，可以自动对内存进行垃圾回收；     
我们不用全局的定义函数去操作不同类型的值，数据类型本身可以定义方法来使用值，如a.sort()等；    
从技术上讲，只有JavaScript对象才能拥有方法，但是，数字、字符串和布尔值也可以拥有自己的方法，只有null和underfined是无法拥有方法的值；    
可变类型的值是可修改的；对象和数组属于可变类型：可改变对象属性值和数组元素的值；数字、布尔值、null和underfined属于不可变类型；    
JavaScript可以自由进行数据类型转换；    
JavaScript变量是无类型的，变量可以被赋予任何类型的值，同样一个变量也可以重新赋予不同类型的值；使用var关键字来生命变量；JavaScript采用词法作用域；不在任何函数内声明的变量称为全局变量，它在JavaScript程序中的任何地方都是可见的；在函数内声明的变量具有函数作用域，并且只在函数内可见；    

# 数字
JavaScript不区分整数值和浮点数值，所有数字均用浮点数值表示；     
整数范围从 -2的53次方~2的53次方 ，包含边界值；JavaScript中实际操作是基于32位整数；    
当一个数字直接出现在JavaScript程序中，称之为数字直接量；在任何数字直接量前添加负号(-)可以得到它们的负值，但负号是一元求反运算符，并不是数字直接量语法的组成部分；    
## 整型直接量
JavaScript中，用一个数字序列表示一个十进制整数；     
JavaScript能识别十六进制值，以"0x"或"0X"为前缀，其后跟随十六进制数串的直接量；     
尽管ECMAScript标准不支持八进制直接量，但JavaScript的某些实现允许采用八进制形式表示整数；八进制直接量以数字0开始，其后跟随一个由0~7(包括0和7)之间的数字组成的序列；在ES6的严格模式下，八进制直接量是明令禁止的，不建议使用；     
## 浮点型直接量
浮点型直接量可以包含小数点，是传统的实数写法--由整数部分、小数点和小数部分组成；     
可以使用指数计数法表示浮点型直接量，即在实数后跟字母e或E，后面再跟正负号，其后再加一个整型的指数；此数值是由前面的实数乘以10的指数次幂; 例如`6.02e-2`等同于 $6.02*10^{-23}$；
## JavaScript中的算术运算
JavaScript使用语言本身提供的算术运算符进行数字运算，运算符包括加法运算符(+)、减法运算符(-)、乘法运算符(*)、除法运算符(/)和求余运算符(%);      
更加复杂的运算符作为Math对象的属性定义的函数和常量来实现；     
JavaScript中的算术运算在溢出、下溢或被零整除时不会报错：    
- 溢出指运算结果超出了JavaScript所能表示的数字上线，结果为一个特殊的无穷大(infinity)指，在JavaScript中以Infinity表示；负数值超过JavaScript所能表示的负数范围，结果为负无穷大，以-Infinity表示，基于无穷大值得加、减、乘和除运算结果还是无穷大值(同样保留正负号)；
- 下溢指运算结果无线接近于0并且比JavaScript能表示的最小值还小的时候发生的情况，此时，JavaScript会返回0；当负数下溢时，返回特殊的值"-0"(和正常的0一样，很少用到)；
- 被零整除返回无穷大或负无穷大；但是0除以0没有意义，运算结果是非数字值，用NaN表示；   

无穷大除以无穷大、给任意负数作开方运算或算术运算符与不是数字或无法转换为数字的操作符一起使用时都返回NaN；    
JavaScript预定义全局变量Infinity和NaN，表示正无穷大和非数字值；     
NaN和任何值都不相同，包括自身；     
-0和0是相等的(使用严格相等测试判断)，只有它们作为初始的时候例外，会分别得到负无穷大和正无穷大；
##二进制浮点数和四舍五入错误
JavaScript采用了IEEE-754浮点数表示法(几乎所有现代编程语言所采用)，这是一种二进制表示法，可以精确地表示分数，比如1/1024,但是十进制分数1/10、1/100等不能精确表示；
## 日期和时间
Date()构造函数，用来创建表示日期和时间的对象；     
日期对象：
```
new Date()   getFullYear  getMonth  getDate  getDay  getHours  getUTCHours
```

# 字符串
字符串(string)是一组由16位值组成的不可变的有序序列，每个字符通常来自于Unicode字符集；     
JavaScript通过字符串类型表示文本；    
字符串的长度(length)是其所含16位值得个数；    
JavaScript字符串(和其数组)的索引从零开始；    
空字符串长度为0，JavaScript中并没有表示单个字符的"字符型"；
## 字符串直接量
JavaScript中字符串直接量，是由单引号或双引号括起来的字符序列；    
由单引号定界的字符串可包含双引号，由双引号定界的字符串中也可以包含单引号；    
ES5中，字符串直接量可以拆分成数行，每行必须以反斜杠(\\)结束,反斜线和行结束符都不算是字符串直接量的内容；可以使用转义字符\n使字符串直接量另起一行；     
当使用单引号来定界字符串是，需要格外小心英文中的缩写和所有格写法，因为撇号和单引号是同一个字符，所以必须使用反斜线(\\)来转义所有的撇号；     
在客户端JavaScript程序设计中，JavaScript代码和HTML代码可能会相互夹杂，它们都是使用单引号或双引号来定界字符串，因此混杂使用时，最好在JavaScript和HTML代码中各自使用独立的引号风格；    
## 转义字符
在JavaScript字符串中，反斜杠(\\)符号后加一个字符，就不再表示它们字面含义了，表示一个转义字符，所有的转义字符：    
```
\o          NUL字符(\u0000)
\b          退格符(\u0008)
\t          水平制表符(\u009)
\n          换号符(\u000A)
\v          垂直制表符(\u000B)
\f          换页符(\u000C)
\r          回车符(\u000D)
\"          双引号(\u0022)
\'          撇号或单引号(\u0027)
\\          反斜杠(\u005C)
\xXX        由两位十六进制数XX指定的Latin-1字符
\uXXXX      由四位十六进制数XXXX指定的Unicode字符
```
如果"\"字符位于没有在上面列出的字符前，则忽略"\";
## 字符串的使用
字符串连接是JavaScript的内置功能之一，用加号(+)连接，将第二个字符串拼接在第一个之后；    
确定一个字符串的长度使用length属性；     
字符串的方法：
```
charAt  substring  slice  lastIndexOf  indexOf
split  replace  toUpperCase
```
在JavaScript中字符串是固定不变的，所以方法都是返回新字符串，原字符串本身没有发生改变；     
ES5中，字符串可以当做只读数组，除了用charAt()方法，也可以用方括号来访问字符串中的单个字符；     
## 模式匹配
RegExp()构造函数，用来创建表示文本匹配模式的对象；JavaScript采用Perl中的正则表达式语法；String和RegExp对象均定义了利用正则表达式进行模式匹配和查找与替换的函数；     
RegExp具有直接量写法，可以直接在JavaScript程序中使用；在两条斜线之间的文本构成了一个正则表达式直接量，在第二条斜线之后也可以跟随一个或多个字母，用来修饰匹配模式的含义；

# 布尔值
布尔值代指真或假、开或关、是或否，它只有两个值，保留字true和false；     
JavaScript程序中的比较语句结果通常都是布尔值；     
布尔值通常用于JavaScript中的控制结构中；     
任意JavaScript的值都可以转换为布尔值；     
为false的布尔值有：
```
underfined  null  0  -0  NaN  ""
```
其他值，包括所有对象(数组)都会转换成true；     
布尔值包含toString()方法，使用此方法将字符串转换成"true"或"false"，但它并不包含其他有用的方法；     
布尔运算符：``&&(与)`当两个操作符都为真时返回true，否则返回false；`||(或)`当两个操作符中的一个为值时就返回true，如果两个操作符都是假值则返回false；`!(非)`如果操作数是真值返回false，是假值返回true；

# null和underfined
null表示一个"空值"，是关键字，可以将它认为是一个特殊的对象值，含义是"非对象"；实际上，通常认为null是它自有类型的唯一一个成员，它可以表示数字、字符串和对象是"无值"的；     
underfined表示更深层次的"空值",不是关键字，是未定义的值，他是变量的一种取值，表示变量没有初始化，查询对象属性或数组元素的值时返回underfined则说明这个属性或元素不存在；如果函数没有返回任何值，则返回undefined，引用没有提供实参的函数形参的值也会得到underfined；underfined是预定义的全局变量，是只读的；使用typeof运算符得到underfined的类型，则返回"underfined"，表示这个值是这个类型的唯一成员；     
underfined和null往往可以互换，用相等运算符"=="判断两者是相等的(使用严格相等运算符"==="可以区分它们)；在希望值是布尔类型的地方它们都是假值，和false类似；它们都不包含热河属性和方法；     
如果想将null和underfined赋值给变量或属性，或将它们作为参数传入函数，最佳选择是使用null；

# 全局对象
全局对象的属性是全局定义的符号，JavaScript程序可以直接使用；当JavaScript解释器启动时(或任意Web浏览器加载新页面时)，它将创建一个新的全局对象，并给它一组定义的初始属性：
```
全局属性，如underfined、Infinity和NaN
全局函数，如isNaN()、parseInt()和eval()等
构造函数，如Date()、RegExp()、String()、Object()和Array()等
全局对象，如Math和JSON
```
全局对象的初始属性并不是保留字，但它们应该当做保留字来对待；    
客户端JavaScript中，Window对象定义了一些额外的全局属性；    
在代码的最顶级--不在任何函数内的JavaScript代码--可以使用JavaScript关键字this来引用全局变量；     
在客户端JavaScript中，在其表示的浏览器窗口中的所有JavaScript代码中，Windows对象充当了全局对象；它有一个属性window引用其自身，替代了this来引用全局对象；     
如果代码声明了一个全局变量，这个全局变量就是全局对象的一个属性；

# 包装对象
JavaScript对象是一种复合值，它是属性或已命名值得集合，通过"."符号来引用属性值；当属性值是一个函数时，称其为方法；通过o.m()来调用对象o中的方法；     
字符串、数字和布尔值具有各自的方法：通过String()、Number()和Boolean()构造函数创建一个临时对象，这些方法的调用均来自于这个临时对象；方法被用来处理属性的引用，一旦属性引用结束，这个新创建的对象将会销毁；     
null和underfined没有包装对象；     
存取字符串、数字或布尔值的属性时创建的临时对象称做包装对象，它只是偶尔用来区分字符串值和字符串对象、数字和数值对象以及布尔值和布尔对象；通常包装对象只被看成一种实现细节，不用特别关注；由于字符串、数字和布尔值的属性都是只读的，并不能为它们定义新属性，需要明白它们有别于对象；     
可通过String()、Number()和Boolean()构造函数来显式创建包装对象，JavaScript会在必要时将包装对象转换成原始值，因此"=="等于运算符将原始值和其包装对象视为同等。但"==="全等运算符将它们视为不等；